<!DOCTYPE html>
<html>

<head>
	<title>Uark Register - Sign In</title>
	{% load static %}
	<script type="text/javascript" src="{% static 'scripts/apiRequests.js' %}"></script>
	<script type="text/javascript" src="{% static 'scripts/siteActions.js' %}"></script>
	<link rel="stylesheet" href="{% static 'css/style.css'%}" type="text/css">

	<script>
		//Validate sign-in
		function validateSignIn() {
			alert('hello');
			employeeID = document.getElementById("employeeID").value;
			employeePassword = document.getElementById("employeePassword").value;
			if (isNaN(employeeID) || employeeID == " " || employeePassword == " ") {
				displayMessage('Register Error: All form fields are required.', 'failed');
				return true;
		}

	</script>

</head>


<body>

	<h1>Uark Register - Sign In</h1>
	<div id='statusBox'>
		<p id="status"></p>
	</div>

	<!-- I could not get displayMessage() to work with the Django template variable
		so I ended up just displaying the error message like this so I could move on -->
	{% if errorMessage != 'default' %}
	<script>
		document.getElementById('statusBox').style.background = '#f44336';
		document.getElementById('statusBox').style.display = "block";
		document.getElementById('status').innerHTML = "{{ errorMessage }}";
		setTimeout(function(){ document.getElementById('statusBox').style.display = 'none'; }, 5000);
	</script>
	{% endif %}

	{% if employees.exists %}
	  <form action="/signIn/" method="POST" onclick="javascript:validateSignIn();">
		  <label for="employeeID">Employee ID:</label>
		  <input type="number" id="employeeID" name="employeeID" value="" required><br>
		  <label for="employeePassword">Employee Password:</label>
		  <input type="password" id="employeePassword" name="employeePassword" value="" required><br><br>
		  <input type="submit" value="Sign In" class="button productDetailsBlueButton">
		  {% csrf_token %}
	  </form>
	{% else %}
	  <script>
		window.location.href='/employeeDetails';
	  </script>
	{% endif %}

	<div><p> You can take a look at our API end-points by visiting <a href="/api/">THIS LINK </a></p></div>
</body>

</html>





